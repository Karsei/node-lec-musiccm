<!DOCTYPE html>
<html lang="ko">
     <head>
          <meta charset="utf-8">
          <meta http-equiv="X-UA-Compatible" content="IE=edge">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <title>Music Community</title>

          <!-- Bootstrap CSS -->
          <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

          <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
          <![endif]-->

          <!-- Custom Fix -->
          <link rel="stylesheet" type="text/css" href="css/custom.css">
     </head>

     <body>
<% include _menu %>
          <div id="jssor_1" style="position:relative;margin:0 auto;top:0px;left:0px;width:1300px;height:400px;overflow:hidden;visibility:hidden;">
               <div data-u="loading" style="position:absolute;top:0px;left:0px;background:url('img/loading.gif') no-repeat 50% 50%;background-color:rgba(0, 0, 0, 0.7);"></div>
               <div data-u="slides" style="cursor:default;position:relative;top:0px;left:0px;width:1300px;height:500px;overflow:hidden;">
                    <div>
                         <img data-u="image" src="img/pianoflow.jpg" />
                         <div style="position:absolute;top:150px;left:70px;width:380px;height:60px;z-index:0;padding-left:10px;font-size:40px;color:#ffffff;background-color:rgba(0, 0, 0, 0.5);line-height:60px;">음악을 즐겨보세요!</div>
                         <div style="position:absolute;top:300px;left:70px;width:500px;height:120px;z-index:0;font-size:20px;color:#333;line-height:38px;">음악이 살아숨쉬는 곳, <b>음악의 대명사</b>입니다.</div>
                    </div>
                    <div>
                         <img data-u="image" src="img/musicdance.jpg" />
                         <div style="position:absolute;top:200px;right:105px;width:400px;height:60px;z-index:0;padding-left:10px;font-size:40px;color:#fff;background-color:rgba(1, 1, 1, 0.5);line-height:60px;">음악을 공유해보세요!</div>
                         <div style="position:absolute;top:300px;right:70px;width:500px;height:120px;z-index:0;font-size:20px;color:#fff;line-height:38px;">다른 사람들이 연주한거나, 모르는 것을 물어보세요!</div>
                    </div>
                    <a data-u="any" href="https://project.karsei.pe.kr:5010" style="display:none">음악의 대명사</a>
               </div>

               <div data-u="navigator" class="slide-nav" style="bottom:16px;right:16px;" data-autocenter="1">
                    <div data-u="prototype" style="width:16px;height:16px;"></div>
               </div>

               <div data-u="arrowleft" class="slide-arrow" style="width:50px;height:50px;top:0px;left:20px;" data-autocenter="2">
                    <svg viewbox="-12986 -2977 16000 16000" style="width:100%;height:100%;">
                         <polygon class="a" points="-1182.1,12825.5 -792,12435.4 -8204.5,5023 -792,-2389.4 -1182.1,-2779.5 -8984.8,5023"></polygon>
                    </svg>
               </div>
               <div data-u="arrowright" class="slide-arrow" style="width:50px;height:50px;top:0px;right:20px;" data-autocenter="2">
                    <svg viewbox="-12986 -2977 16000 16000" style="width:100%;height:100%;">
                         <polygon class="a" points="-8594.7,12825.5 -8984.8,12435.4 -1572.3,5023 -8984.8,-2389.4 -8594.7,-2779.5 -792,5023"></polygon>
                    </svg>
               </div>
          </div>

          <div class="container">
               <div class="row index-list">
                    <div class="col-sm-6">
                         <h3><span class="glyphicon glyphicon-align-justify"></span> 공지사항</h3>
                         <hr>
                         <div class="index-notice">
                              <ul class="index-notice-list">
                              </ul>
                         </div>
                    </div>
                    <div class="col-sm-6 index-topplay">
                         <h3><span class="glyphicon glyphicon-facetime-video"></span> 금주의 영상</h3>
                         <hr>
                         <div class="playvideo">
                              <iframe width="560" height="315" src="" frameborder="0" allowfullscreen></iframe>
                         </div>
                    </div>
               </div>
          </div>

<% include _foot %>
          <!-- jssor -->
          <script type="text/javascript" src="js/jssor.slider-24.1.5.min.js"></script>
          <script type="text/javascript">
          jQuery(document).ready(function ($) {
               var jssor_1_SlideoTransitions = [
                    [{b:900,d:2000,x:-379,e:{x:7}}],
                    [{b:900,d:2000,x:-379,e:{x:7}}],
                    [{b:-1,d:1,o:-1,sX:2,sY:2},{b:0,d:900,x:-171,y:-341,o:1,sX:-2,sY:-2,e:{x:3,y:3,sX:3,sY:3}},{b:900,d:1600,x:-283,o:-1,e:{x:16}}]
               ];

               var jssor_1_options = {
                    $AutoPlay: 1,
                    $SlideDuration: 800,
                    $SlideEasing: $Jease$.$OutQuint,
                    $CaptionSliderOptions: {
                         $Class: $JssorCaptionSlideo$,
                         $Transitions: jssor_1_SlideoTransitions
                    },
                    $ArrowNavigatorOptions: {
                         $Class: $JssorArrowNavigator$
                    },
                    $BulletNavigatorOptions: {
                         $Class: $JssorBulletNavigator$
                    }
               };

               var jssor_1_slider = new $JssorSlider$("jssor_1", jssor_1_options);

               /** Responsive **/
               function ScaleSlider() {
                    var refSize = jssor_1_slider.$Elmt.parentNode.clientWidth;
                    if (refSize) {
                         refSize = Math.min(refSize, 1920);
                         jssor_1_slider.$ScaleWidth(refSize);
                    }
                    else {
                         window.setTimeout(ScaleSlider, 30);
                    }
               }
               ScaleSlider();
               $(window).bind("load", ScaleSlider);
               $(window).bind("resize", ScaleSlider);
               $(window).bind("orientationchange", ScaleSlider);

               // 공지사항
               $.ajax({
                    type: "POST",
                    dataType: "json",
                    url: API_BOARD_AJAX_URL + "getList",
                    data: "query=" + "getIdList" +
                          "&brdid=" + "mc_noticeboard" +
                          "&startlist=" + "0" +
                          "&endlist=" + "5" +
                          "&bid=" + "notice"
                    ,
                    success: function (noticeList) {
                         var $topplay_iframe = $(".index-notice-list");
                         for (var i = 0; i < noticeList.length; i++) {
                              var $li = $("<li>");
                              $li
                                   .append($("<a>", {
                                        href: "board/notice/view/" + noticeList[i].a_id
                                   })).children("a:last")
                                   .append($("<span>", {
                                        class: "glyphicon glyphicon-pushpin"
                                   }))
                                   .append($("<span>").text(noticeList[i].a_title));
                              $topplay_iframe.append($li);
                         }
                    },
                    error: function (req, status, err) {
                         console.error("code: " + req.status + "\n" + req.responseText + "\n" + "error: " + err);
                    }
               });

               // 금주의 영상
               $.ajax({
                    type: "POST",
                    dataType: "json",
                    url: API_BOARD_AJAX_URL + "getList",
                    data: "query=" + "getViewList" +
                          "&brdid=" + "mc_playboard" +
                          "&startlist=" + "0" +
                          "&endlist=" + "5" +
                          "&bid=" + "play_nocate"
                    ,
                    success: function (playTopList) {
                         var $topplay_iframe = $(".index-topplay .playvideo iframe");
                         $topplay_iframe.attr("src", "https://www.youtube.com/embed/" + playTopList[0].a_youtubeid);
                    },
                    error: function (req, status, err) {
                         console.error("code: " + req.status + "\n" + req.responseText + "\n" + "error: " + err);
                    }
               });
          });
          </script>
     </body>
</html>
